<!DOCTYPE html>
<html>

    <head>
        <meta charset="UTF-8">
        <title>Title of the document</title>
    </head>

    <body>
    </body>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdn.socket.io/4.4.1/socket.io.min.js"
        integrity="sha384-fKnu0iswBIqkjxrhQCTZ7qlLHOFEgNkRmK2vaO/LbTZSXdJfAu6ewRBdwHPhBo/H"
        crossorigin="anonymous"></script>

    <script>
    var socket = io.connect('http://localhost:6969');// clent khởi tạo kết nối socket đến server
    socket.on('news', function (data) { // lắng nghe event 'news' được server gửi đến
    $('#chat-panel').append(data) // log data để kiểm tra
        });

        socket.on('plus-calculated', function(data) {
            $('#result').html(`Kết quả: ${data}`)
        })
    $(document).ready(function () {
        $('#send_private').click(function(){
            socket.emit('private',  $('#data').val()); // gửi event 'private'
             $('#data').val('');
        });
        $('#send_broadcast').click(function(){
            socket.emit('broadcast',  $('#data').val()); // gửi event 'broadcast'
            $('#data').val('');
        });
        $('#send_all_client').click(function(){
            socket.emit('all client',  $('#data').val()); // gửi event 'all client'
            $('#data').val('');
        })

        $('#plus').click(function() {
            socket.emit('plus-calculated', {
                a: Number($('#number-a').val()),
                b: Number($('#number-b').val())
            })

            $('#number-a').val('')
            $('#number-b').val('')
        })
    });
</script>
    <h1>Test socket.io</h1>
    <input type="text" id="data"><br>
    <div>Khung chat</div>
    <div id="chat-panel"></div>
    <button id="send_private">Send Private message</button><br>
    <button id="send_broadcast">Send Broadcast</button><br>
    <button id="send_all_client">Send All Client</button>

    <div id="calculate-box">
        <input type="text" id="number-a">
        <input type="text" id="number-b">
        <button id="plus">Cộng</button>
        <button id="minus">Trừ</button>

    </div>

    <div>
        <div id="result">

        </div>
    </div>
</html>